start: HEAD
accept: AC
reject: RE
blank: *

HEAD 0 -> HEAD 0 >
HEAD 1 -> HEAD 1 >
HEAD * -> WARMUP @ <

WARMUP 0 -> WARMUP 0 <
WARMUP 1 -> WARMUP 1 <
WARMUP * -> WARMUP35 * <

WARMUP35 * -> WARMUP34 * <
WARMUP34 * -> WARMUP33 * <
WARMUP33 * -> WARMUP32 * <
WARMUP32 * -> WARMUP31 * <
WARMUP31 * -> WARMUP30 * <
WARMUP30 * -> WARMUP29 * <
WARMUP29 * -> WARMUP28 * <
WARMUP28 * -> WARMUP27 * <
WARMUP27 * -> WARMUP26 * <
WARMUP26 * -> WARMUP25 * <
WARMUP25 * -> WARMUP24 * <
WARMUP24 * -> WARMUP23 * <
WARMUP23 * -> WARMUP22 * <
WARMUP22 * -> WARMUP21 * <
WARMUP21 * -> WARMUP20 * <
WARMUP20 * -> WARMUP19 * <
WARMUP19 * -> WARMUP18 * <
WARMUP18 * -> WARMUP17 * <
WARMUP17 * -> WARMUP16 * <
WARMUP16 * -> WARMUP15 * <
WARMUP15 * -> WARMUP14 * <
WARMUP14 * -> WARMUP13 * <
WARMUP13 * -> WARMUP12 * <
WARMUP12 * -> WARMUP11 * <
WARMUP11 * -> WARMUP10 * <
WARMUP10 * -> WARMUP9 * <
WARMUP9 * -> WARMUP8 * <
WARMUP8 * -> WARMUP7 * <
WARMUP7 * -> WARMUP6 * <
WARMUP6 * -> WARMUP5 * <
WARMUP5 * -> WARMUP4 * <
WARMUP4 * -> WARMUP3 * <
WARMUP3 * -> WARMUP2 * <
WARMUP2 * -> WARMUP1 * <
WARMUP1 * -> WARMUP0 * <
WARMUP0 * -> WARMUPEND + <
WARMUPEND * -> CLONE 0 >

CLONE * -> CLONE * >
CLONE + -> CLONE + >
CLONE 0 -> TRANSFER0 * <
CLONE 1 -> TRANSFER1 * <
CLONE @ -> MUL @ >

TRANSFER0 0 -> PUT0 0 >
TRANSFER0 1 -> PUT0 1 >
TRANSFER0 + -> PUT0 + >
TRANSFER0 * -> TRANSFER0 * <

TRANSFER1 0 -> PUT1 0 >
TRANSFER1 1 -> PUT1 1 >
TRANSFER1 + -> PUT1 + >
TRANSFER1 * -> TRANSFER1 * <

PUT0 * -> CLONE 0 >
PUT1 * -> CLONE 1 >

MUL 0 -> MUL 0 >
MUL 1 -> MUL 1 >
MUL * -> _MUL * <

_MUL 0 -> MUL0 * <
_MUL 1 -> MUL1 * <
_MUL @ -> CLEAR * <

CLEAR * -> CLEAR * <
CLEAR 0 -> CLEAR * <
CLEAR 1 -> CLEAR * <
CLEAR + -> DONE * <

DONE 0 -> DONE 0 <
DONE 1 -> DONE 1 <
DONE * -> AC * >

MUL0 0 -> MUL0 0 <
MUL0 1 -> MUL0 1 <
MUL0 @ -> MUL0 @ <
MUL0 * -> _MUL0 * <

_MUL0 * -> _MUL0 * <
_MUL0 0 -> SHIFT0 0 >
_MUL0 1 -> SHIFT0 1 >

SHIFT0 * -> CLONE 0 ^
SHIFT1 * -> SUM ! <

MUL1 0 -> MUL1 0 <
MUL1 1 -> MUL1 1 <
MUL1 @ -> MUL1 @ <
MUL1 * -> _MUL1 * <

_MUL1 * -> _MUL1 * <
_MUL1 0 -> SHIFT1 0 >
_MUL1 1 -> SHIFT1 1 >


SUM 0 -> SUM 0 <
SUM 1 -> SUM 1 <
SUM + -> START + <

START * -> FIND * >
START 0 -> FIND A >
START 1 -> FIND B >

FIND 0 -> FIND 0 >
FIND 1 -> FIND 1 >
FIND + -> FIND + >
FIND * -> BACK * <
FIND ! -> BACK ! <
FIND X -> BACK X <
FIND Y -> BACK Y <

BACK 0 -> FOUND0 X <
BACK 1 -> FOUND1 Y <
BACK + -> NORMALIZE + <

NORMALIZE 0 -> NORMALIZE 0 <
NORMALIZE 1 -> NORMALIZE 1 <
NORMALIZE A -> NORMALIZE 0 <
NORMALIZE B -> NORMALIZE 1 <
NORMALIZE * -> NORMALIZE2 * >

NORMALIZE2 0 -> NORMALIZE2 0 >
NORMALIZE2 1 -> NORMALIZE2 1 >
NORMALIZE2 + -> NORMALIZE2 + >
NORMALIZE2 X -> NORMALIZE2 0 >
NORMALIZE2 Y -> NORMALIZE2 1 >
NORMALIZE2 ! -> NORMALIZE2 0 >
NORMALIZE2 * -> CLONE * >

FOUND0 0 -> FOUND0 0 <
FOUND0 1 -> FOUND0 1 <
FOUND0 + -> FOUND0 + <
FOUND0 A -> START 0 <
FOUND0 B -> START 1 <
FOUND0 * -> START 0 <

FOUND1 0 -> FOUND1 0 <
FOUND1 1 -> FOUND1 1 <
FOUND1 + -> FOUND1 + <
FOUND1 A -> START 1 <
FOUND1 B -> CARRY C <
FOUND1 * -> START 1 <

CARRY * -> CARRY_DONE 1 >
CARRY 0 -> CARRY_DONE 1 >
CARRY 1 -> CARRY 0 <

CARRY_DONE 0 -> CARRY_DONE 0 >
CARRY_DONE 1 -> CARRY_DONE 1 >
CARRY_DONE C -> START 0 <


